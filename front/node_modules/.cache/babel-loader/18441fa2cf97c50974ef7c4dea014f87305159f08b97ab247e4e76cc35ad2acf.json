{"ast":null,"code":"// import { useState, useEffect } from \"react\";\n// import { api } from \"../api\";\n// import { useAuth } from \"../context/AuthContext\";\n// import {\n//   Button, TextField, Paper, Box, Typography, Dialog, DialogContent, DialogActions\n// } from \"@mui/material\";\n\n// export default function AdminPanel() {\n//   const { token } = useAuth();\n//   const [cars,setCars] = useState([]);\n//   const [open,setOpen] = useState(false);\n//   const [editCar,setEditCar] = useState(null);\n\n//   useEffect(()=>{\n//     api.get(\"/cars\").then(res=>setCars(res.data));\n//   },[]);\n\n//   const handleEdit = car => { setEditCar(car); setOpen(true); };\n\n//   const updateCar = async()=>{\n//     await api.put(`/update/cars/${editCar.id}`,editCar,{headers:{Authorization:`Bearer ${token}`}});\n//     setOpen(false);\n//     window.location.reload();\n//   };\n\n//   const [file,setFile] = useState(null);\n//   const [preview,setPreview] = useState(\"\");\n\n//   const uploadImage = async () =>{\n//     const form = new FormData();\n//     form.append(\"image\",file);\n\n//     const res = await api.post(\"/upload\",form,{\n//       headers:{ \"Content-Type\":\"multipart/form-data\" }\n//     });\n//     return res.data.url; \n//   };\n\n//   const addCar = async ()=>{\n//     const url = file ? await uploadImage() : null;\n\n//     const car = {\n//       name:prompt(\"Car Name\"),\n//       brand:prompt(\"Brand\"),\n//       pricePerDay:prompt(\"Price\"),\n//       image:url\n//     };\n\n//     await api.post(\"/cars\",car,{headers:{Authorization:`Bearer ${token}`}});\n//     window.location.reload();\n//   };\n\n//   const del=(id)=> api.delete(`/delete/cars/${id}`,{headers:{Authorization:`Bearer ${token}`}})\n//                 .then(()=>setCars(cars.filter(c=>c.id!==id)));\n\n//   return (\n//     <Box sx={{padding:5}}>\n//       <Typography variant=\"h4\">Admin Control Panel üîê</Typography>\n\n//       <Button variant=\"contained\" onClick={addCar} sx={{mt:3}}>+ Add New Car</Button>\n\n//       <div className=\"card-grid\" style={{marginTop:30}}>\n//         {cars.map(car=>(\n//           <Paper key={car.id} sx={{padding:2, background:\"#15212b\", color:\"white\"}}>\n//             <img src={car.image} width=\"100%\" style={{borderRadius:6}}/>\n//             <h3>{car.brand} {car.name}</h3>\n//             <p>‚Çπ {car.pricePerDay}</p>\n//             <Button onClick={()=>handleEdit(car)}>Edit</Button>\n//             <Button onClick={()=>del(car.id)} sx={{color:\"red\"}}>Delete</Button>\n//             <input type=\"file\" \n//   onChange={(e)=>{ \n//     setFile(e.target.files[0]); \n//     setPreview(URL.createObjectURL(e.target.files[0]));\n//   }}\n//   style={{marginTop:20,color:\"white\"}}\n// />\n\n// {preview && <img src={preview} width=\"150\" style={{marginTop:10,borderRadius:10}}/>}\n\n//           </Paper>\n//         ))}\n//       </div>\n\n//       <Dialog open={open} onClose={()=>setOpen(false)}>\n//         <DialogContent sx={{bgcolor:\"#0f172a\",color:\"white\"}}>\n//           <TextField\n//             label=\"Name\" fullWidth sx={{mt:2,input:{color:'white'}}}\n//             value={editCar?.name}\n//             onChange={e=>setEditCar({...editCar,name:e.target.value})}\n//           />\n//           <TextField\n//             label=\"Brand\" fullWidth sx={{mt:2,input:{color:'white'}}}\n//             value={editCar?.brand}\n//             onChange={e=>setEditCar({...editCar,brand:e.target.value})}\n//           />\n//           <TextField\n//             label=\"Price\" fullWidth sx={{mt:2,input:{color:'white'}}}\n//             value={editCar?.pricePerDay}\n//             onChange={e=>setEditCar({...editCar,pricePerDay:e.target.value})}\n//           />\n//           <TextField\n//             label=\"Image URL\" fullWidth sx={{mt:2,input:{color:'white'}}}\n//             value={editCar?.image}\n//             onChange={e=>setEditCar({...editCar,image:e.target.value})}\n//           />\n//         </DialogContent>\n\n//         <DialogActions sx={{bgcolor:\"#000\"}}>\n//           <Button onClick={updateCar}>Save Changes</Button>\n//         </DialogActions>\n//       </Dialog>\n//     </Box>\n//   );\n// }","map":{"version":3,"names":[],"sources":["/Users/harshkumar/car_project_1/front/src/pages/AdminPanel.jsx"],"sourcesContent":["// import { useState, useEffect } from \"react\";\n// import { api } from \"../api\";\n// import { useAuth } from \"../context/AuthContext\";\n// import {\n//   Button, TextField, Paper, Box, Typography, Dialog, DialogContent, DialogActions\n// } from \"@mui/material\";\n\n// export default function AdminPanel() {\n//   const { token } = useAuth();\n//   const [cars,setCars] = useState([]);\n//   const [open,setOpen] = useState(false);\n//   const [editCar,setEditCar] = useState(null);\n\n//   useEffect(()=>{\n//     api.get(\"/cars\").then(res=>setCars(res.data));\n//   },[]);\n\n//   const handleEdit = car => { setEditCar(car); setOpen(true); };\n\n//   const updateCar = async()=>{\n//     await api.put(`/update/cars/${editCar.id}`,editCar,{headers:{Authorization:`Bearer ${token}`}});\n//     setOpen(false);\n//     window.location.reload();\n//   };\n\n//   const [file,setFile] = useState(null);\n//   const [preview,setPreview] = useState(\"\");\n  \n//   const uploadImage = async () =>{\n//     const form = new FormData();\n//     form.append(\"image\",file);\n  \n//     const res = await api.post(\"/upload\",form,{\n//       headers:{ \"Content-Type\":\"multipart/form-data\" }\n//     });\n//     return res.data.url; \n//   };\n  \n//   const addCar = async ()=>{\n//     const url = file ? await uploadImage() : null;\n  \n//     const car = {\n//       name:prompt(\"Car Name\"),\n//       brand:prompt(\"Brand\"),\n//       pricePerDay:prompt(\"Price\"),\n//       image:url\n//     };\n  \n//     await api.post(\"/cars\",car,{headers:{Authorization:`Bearer ${token}`}});\n//     window.location.reload();\n//   };\n  \n\n//   const del=(id)=> api.delete(`/delete/cars/${id}`,{headers:{Authorization:`Bearer ${token}`}})\n//                 .then(()=>setCars(cars.filter(c=>c.id!==id)));\n\n//   return (\n//     <Box sx={{padding:5}}>\n//       <Typography variant=\"h4\">Admin Control Panel üîê</Typography>\n\n//       <Button variant=\"contained\" onClick={addCar} sx={{mt:3}}>+ Add New Car</Button>\n\n//       <div className=\"card-grid\" style={{marginTop:30}}>\n//         {cars.map(car=>(\n//           <Paper key={car.id} sx={{padding:2, background:\"#15212b\", color:\"white\"}}>\n//             <img src={car.image} width=\"100%\" style={{borderRadius:6}}/>\n//             <h3>{car.brand} {car.name}</h3>\n//             <p>‚Çπ {car.pricePerDay}</p>\n//             <Button onClick={()=>handleEdit(car)}>Edit</Button>\n//             <Button onClick={()=>del(car.id)} sx={{color:\"red\"}}>Delete</Button>\n//             <input type=\"file\" \n//   onChange={(e)=>{ \n//     setFile(e.target.files[0]); \n//     setPreview(URL.createObjectURL(e.target.files[0]));\n//   }}\n//   style={{marginTop:20,color:\"white\"}}\n// />\n\n// {preview && <img src={preview} width=\"150\" style={{marginTop:10,borderRadius:10}}/>}\n\n//           </Paper>\n//         ))}\n//       </div>\n\n//       <Dialog open={open} onClose={()=>setOpen(false)}>\n//         <DialogContent sx={{bgcolor:\"#0f172a\",color:\"white\"}}>\n//           <TextField\n//             label=\"Name\" fullWidth sx={{mt:2,input:{color:'white'}}}\n//             value={editCar?.name}\n//             onChange={e=>setEditCar({...editCar,name:e.target.value})}\n//           />\n//           <TextField\n//             label=\"Brand\" fullWidth sx={{mt:2,input:{color:'white'}}}\n//             value={editCar?.brand}\n//             onChange={e=>setEditCar({...editCar,brand:e.target.value})}\n//           />\n//           <TextField\n//             label=\"Price\" fullWidth sx={{mt:2,input:{color:'white'}}}\n//             value={editCar?.pricePerDay}\n//             onChange={e=>setEditCar({...editCar,pricePerDay:e.target.value})}\n//           />\n//           <TextField\n//             label=\"Image URL\" fullWidth sx={{mt:2,input:{color:'white'}}}\n//             value={editCar?.image}\n//             onChange={e=>setEditCar({...editCar,image:e.target.value})}\n//           />\n//         </DialogContent>\n\n//         <DialogActions sx={{bgcolor:\"#000\"}}>\n//           <Button onClick={updateCar}>Save Changes</Button>\n//         </DialogActions>\n//       </Dialog>\n//     </Box>\n//   );\n// }\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}