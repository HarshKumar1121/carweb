{"ast":null,"code":"var _jsxFileName = \"/Users/harshkumar/car_project_1/front/src/components/Login.jsx\",\n  _s = $RefreshSig$();\n// import React, { useContext, useState } from \"react\";\n// import {api} from \"../api\";\n// import { TextField, Button, Box, Typography, Alert } from \"@mui/material\";\n// // import { AuthContext } from \"../AuthContext.js\";\n// import { AuthContext } from \"../context/AuthContext\";\n// import { useNavigate } from \"react-router-dom\";\n\n// function Login() {\n//   const [email, setEmail] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [err, setErr] = useState(\"\");\n//   const { login } = useContext(AuthContext);\n//   const navigate = useNavigate();\n\n//   const handleSubmit = async e => {\n//     e.preventDefault();\n//     setErr(\"\");\n//     try {\n//       const res = await api.post(\"/api/login\", { email, password });\n//       login(res.data.token, res.data.email);\n//       navigate(\"/\");\n//     } catch (err) {\n//       setErr(err.response?.data?.error || \"Error logging in\");\n//     }\n//   };\n\n//   return (\n//     <Box mt={5}>\n//       <Typography variant=\"h5\" mb={2}>Login</Typography>\n//       <form onSubmit={handleSubmit}>\n//         <TextField label=\"Email\" fullWidth margin=\"normal\" value={email} onChange={e => setEmail(e.target.value)} />\n//         <TextField label=\"Password\"  color=\"primary\"type=\"password\" fullWidth margin=\"normal\" value={password} onChange={e => setPassword(e.target.value)} />\n//         {err && <Alert severity=\"error\">{err}</Alert>}\n//         <Button variant=\"contained\" color=\"primary\" type=\"submit\">Login</Button>\n//       </form>\n//     </Box>\n//   );\n// }\n\n// export default Login;\n\n// import React, { useState } from \"react\";\n// // import { useAuth } from \"../AuthContext\";\n// import { useAuth } from \"../context/AuthContext\";\n// import { useNavigate, Link } from \"react-router-dom\";\n\n// export default function LoginPage() {\n//   const { login } = useAuth();\n//   const navigate = useNavigate();\n//   const [form, setForm] = useState({ email: \"\", password: \"\" });\n//   const [error, setError] = useState(\"\");\n\n//   const handleChange = (e) => {\n//     setForm((f) => ({ ...f, [e.target.name]: e.target.value }));\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     setError(\"\");\n//     try {\n//       await login(form.email, form.password);\n//       navigate(\"/cars\");\n//     } catch (err) {\n//       setError(err.response?.data?.error || \"Login failed\");\n//     }\n//   };\n\n//   return (\n//     <div style={{ maxWidth: 400, margin: \"40px auto\" }}>\n//       <h2>Login</h2>\n//       <form onSubmit={handleSubmit}>\n//         <input\n//           name=\"email\"\n//           type=\"email\"\n//           placeholder=\"Email\"\n//           value={form.email}\n//           onChange={handleChange}\n//           required\n//         />\n//         <br />\n//         <input\n//           name=\"password\"\n//           type=\"password\"\n//           placeholder=\"Password\"\n//           value={form.password}\n//           onChange={handleChange}\n//           required\n//         />\n//         <br />\n//         {error && <p style={{ color: \"red\" }}>{error}</p>}\n//         <button type=\"submit\">Login</button>\n//       </form>\n//       <p>\n//         No account? <Link to=\"/signup\">Sign up</Link>\n//       </p>\n//     </div>\n//   );\n// }\n\n// import React, { useState } from \"react\";\n// import { TextField, Button, Box, Paper, Typography, Alert } from \"@mui/material\";\n// import { useNavigate } from \"react-router-dom\";\n// import { useAuth } from \"../context/AuthContext\";\n\n// export default function Login(){\n//   const { login } = useAuth();\n//   const nav = useNavigate();\n//   const [email , setEmail] = useState(\"\");\n//   const [password , setPassword] = useState(\"\");\n//   const [err , setErr] = useState(\"\");\n\n//   const submit = async(e)=>{\n//     e.preventDefault();\n//     try{\n//       await login(email,password);\n//       nav(\"/\");\n//     }catch(e){\n//       setErr(\"Invalid credentials\");\n//     }\n//   }\n\n//   return (\n//     <Box className=\"center\" sx={{height:\"90vh\"}}>\n//       <Paper sx={{ padding:4 , width:350, bgcolor:\"#1e293b\" }}>\n//         <Typography variant=\"h5\" mb={2}>Login</Typography>\n\n//         {err && <Alert severity=\"error\">{err}</Alert>}\n\n//         <TextField label=\"Email\" fullWidth sx={{mt:2}} onChange={e=>setEmail(e.target.value)}/>\n//         <TextField label=\"Password\" type=\"password\" fullWidth sx={{mt:2}} onChange={e=>setPassword(e.target.value)}/>\n\n//         <Button fullWidth sx={{mt:3}} variant=\"contained\" onClick={submit}>\n//           Login\n//         </Button>\n//       </Paper>\n//     </Box>\n//   );\n// }\n\n// front/src/components/Login.jsx\nimport React, { useState } from \"react\";\nimport { TextField, Button, Paper, Box, Typography, Alert } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const {\n    login\n  } = useAuth();\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setErr(\"\");\n    try {\n      await login(email, password); // calls /auth/login\n      navigate(\"/\"); // go to dashboard\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const msg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message || \"Login failed\";\n      setErr(msg);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: \"80vh\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        padding: 4,\n        width: 360,\n        background: \"#12567\",\n        color: \"white\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        mb: 2,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Email\",\n          type: \"email\",\n          fullWidth: true,\n          required: true,\n          sx: {\n            mb: 2\n          },\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Password\",\n          type: \"password\",\n          fullWidth: true,\n          required: true,\n          sx: {\n            mb: 3\n          },\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          fullWidth: true,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"SfAXUL1VK/PB0OH2BMPPIU9JhcE=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","TextField","Button","Paper","Box","Typography","Alert","useNavigate","useAuth","jsxDEV","_jsxDEV","Login","_s","login","navigate","email","setEmail","password","setPassword","err","setErr","handleSubmit","e","preventDefault","error","_error$response","_error$response$data","msg","response","data","message","sx","minHeight","display","justifyContent","alignItems","children","padding","width","background","color","variant","mb","fileName","_jsxFileName","lineNumber","columnNumber","severity","onSubmit","label","type","fullWidth","required","value","onChange","target","_c","$RefreshReg$"],"sources":["/Users/harshkumar/car_project_1/front/src/components/Login.jsx"],"sourcesContent":["// import React, { useContext, useState } from \"react\";\n// import {api} from \"../api\";\n// import { TextField, Button, Box, Typography, Alert } from \"@mui/material\";\n// // import { AuthContext } from \"../AuthContext.js\";\n// import { AuthContext } from \"../context/AuthContext\";\n// import { useNavigate } from \"react-router-dom\";\n\n// function Login() {\n//   const [email, setEmail] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [err, setErr] = useState(\"\");\n//   const { login } = useContext(AuthContext);\n//   const navigate = useNavigate();\n\n//   const handleSubmit = async e => {\n//     e.preventDefault();\n//     setErr(\"\");\n//     try {\n//       const res = await api.post(\"/api/login\", { email, password });\n//       login(res.data.token, res.data.email);\n//       navigate(\"/\");\n//     } catch (err) {\n//       setErr(err.response?.data?.error || \"Error logging in\");\n//     }\n//   };\n\n//   return (\n//     <Box mt={5}>\n//       <Typography variant=\"h5\" mb={2}>Login</Typography>\n//       <form onSubmit={handleSubmit}>\n//         <TextField label=\"Email\" fullWidth margin=\"normal\" value={email} onChange={e => setEmail(e.target.value)} />\n//         <TextField label=\"Password\"  color=\"primary\"type=\"password\" fullWidth margin=\"normal\" value={password} onChange={e => setPassword(e.target.value)} />\n//         {err && <Alert severity=\"error\">{err}</Alert>}\n//         <Button variant=\"contained\" color=\"primary\" type=\"submit\">Login</Button>\n//       </form>\n//     </Box>\n//   );\n// }\n\n// export default Login;\n\n// import React, { useState } from \"react\";\n// // import { useAuth } from \"../AuthContext\";\n// import { useAuth } from \"../context/AuthContext\";\n// import { useNavigate, Link } from \"react-router-dom\";\n\n// export default function LoginPage() {\n//   const { login } = useAuth();\n//   const navigate = useNavigate();\n//   const [form, setForm] = useState({ email: \"\", password: \"\" });\n//   const [error, setError] = useState(\"\");\n\n//   const handleChange = (e) => {\n//     setForm((f) => ({ ...f, [e.target.name]: e.target.value }));\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     setError(\"\");\n//     try {\n//       await login(form.email, form.password);\n//       navigate(\"/cars\");\n//     } catch (err) {\n//       setError(err.response?.data?.error || \"Login failed\");\n//     }\n//   };\n\n//   return (\n//     <div style={{ maxWidth: 400, margin: \"40px auto\" }}>\n//       <h2>Login</h2>\n//       <form onSubmit={handleSubmit}>\n//         <input\n//           name=\"email\"\n//           type=\"email\"\n//           placeholder=\"Email\"\n//           value={form.email}\n//           onChange={handleChange}\n//           required\n//         />\n//         <br />\n//         <input\n//           name=\"password\"\n//           type=\"password\"\n//           placeholder=\"Password\"\n//           value={form.password}\n//           onChange={handleChange}\n//           required\n//         />\n//         <br />\n//         {error && <p style={{ color: \"red\" }}>{error}</p>}\n//         <button type=\"submit\">Login</button>\n//       </form>\n//       <p>\n//         No account? <Link to=\"/signup\">Sign up</Link>\n//       </p>\n//     </div>\n//   );\n// }\n\n\n\n// import React, { useState } from \"react\";\n// import { TextField, Button, Box, Paper, Typography, Alert } from \"@mui/material\";\n// import { useNavigate } from \"react-router-dom\";\n// import { useAuth } from \"../context/AuthContext\";\n\n// export default function Login(){\n//   const { login } = useAuth();\n//   const nav = useNavigate();\n//   const [email , setEmail] = useState(\"\");\n//   const [password , setPassword] = useState(\"\");\n//   const [err , setErr] = useState(\"\");\n\n//   const submit = async(e)=>{\n//     e.preventDefault();\n//     try{\n//       await login(email,password);\n//       nav(\"/\");\n//     }catch(e){\n//       setErr(\"Invalid credentials\");\n//     }\n//   }\n\n//   return (\n//     <Box className=\"center\" sx={{height:\"90vh\"}}>\n//       <Paper sx={{ padding:4 , width:350, bgcolor:\"#1e293b\" }}>\n//         <Typography variant=\"h5\" mb={2}>Login</Typography>\n\n//         {err && <Alert severity=\"error\">{err}</Alert>}\n\n//         <TextField label=\"Email\" fullWidth sx={{mt:2}} onChange={e=>setEmail(e.target.value)}/>\n//         <TextField label=\"Password\" type=\"password\" fullWidth sx={{mt:2}} onChange={e=>setPassword(e.target.value)}/>\n\n//         <Button fullWidth sx={{mt:3}} variant=\"contained\" onClick={submit}>\n//           Login\n//         </Button>\n//       </Paper>\n//     </Box>\n//   );\n// }\n\n\n\n// front/src/components/Login.jsx\nimport React, { useState } from \"react\";\nimport { TextField, Button, Paper, Box, Typography, Alert } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\n\nfunction Login() {\n  const { login } = useAuth();\n  const navigate = useNavigate();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setErr(\"\");\n\n    try {\n      await login(email, password); // calls /auth/login\n      navigate(\"/\"); // go to dashboard\n    } catch (error) {\n      const msg =\n        error.response?.data?.error || error.message || \"Login failed\";\n      setErr(msg);\n    }\n  };\n\n  return (\n    <Box sx={{ minHeight: \"80vh\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n      <Paper sx={{ padding: 4, width: 360, background: \"#12567\", color: \"white\" }}>\n        <Typography variant=\"h5\" mb={2}>\n          Login\n        </Typography>\n\n        {err && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {err}\n          </Alert>\n        )}\n\n        <form onSubmit={handleSubmit}>\n          <TextField\n            label=\"Email\"\n            type=\"email\"\n            fullWidth\n            required\n            sx={{ mb: 2 }}\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <TextField\n            label=\"Password\"\n            type=\"password\"\n            fullWidth\n            required\n            sx={{ mb: 3 }}\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n\n          <Button type=\"submit\" variant=\"contained\" fullWidth>\n            Login\n          </Button>\n        </form>\n      </Paper>\n    </Box>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}